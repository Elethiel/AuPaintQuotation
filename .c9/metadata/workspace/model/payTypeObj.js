{"filter":false,"title":"payTypeObj.js","tooltip":"/model/payTypeObj.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":120,"column":89},"end":{"row":120,"column":90}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":120,"column":90},"end":{"row":120,"column":91}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":120,"column":91},"end":{"row":120,"column":92}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":120,"column":92},"end":{"row":120,"column":93}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":120,"column":93},"end":{"row":120,"column":94}},"text":"I"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":120,"column":94},"end":{"row":120,"column":95}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":121,"column":87},"end":{"row":121,"column":92}},"text":"docId"},{"action":"insertText","range":{"start":{"row":121,"column":87},"end":{"row":121,"column":96}},"text":"payTypeId"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":125,"column":38},"end":{"row":125,"column":43}},"text":"docId"},{"action":"insertText","range":{"start":{"row":125,"column":38},"end":{"row":125,"column":47}},"text":"payTypeId"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":121,"column":0},"end":{"row":121,"column":60}},"text":"                    else                                    "},{"action":"removeText","range":{"start":{"row":120,"column":20},"end":{"row":120,"column":113}},"text":"if (this.changes && this.changes > 0)   callback(null, {msg:\"ok\", payTypeId : this.changes});"},{"action":"removeText","range":{"start":{"row":120,"column":20},"end":{"row":121,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":120,"column":0},"end":{"row":120,"column":20}},"text":"                    "},{"action":"removeText","range":{"start":{"row":119,"column":20},"end":{"row":119,"column":22}},"text":" {"},{"action":"removeText","range":{"start":{"row":119,"column":20},"end":{"row":120,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":119,"column":20},"end":{"row":119,"column":21}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":120,"column":0},"end":{"row":120,"column":17}},"text":"                }"},{"action":"removeText","range":{"start":{"row":119,"column":63},"end":{"row":120,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":119,"column":42},"end":{"row":119,"column":43}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":110,"column":2},"end":{"row":111,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":111,"column":0},"end":{"row":112,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":112,"column":0},"end":{"row":113,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":113,"column":0},"end":{"row":139,"column":0}},"lines":["","Payment.prototype.findAllByQuotationId = function( db, param, callback ) {","    var self = this;","    db.all(\"SELECT payment_id FROM invoice_payment WHERE invoice_id = ?\", [ param.quotationId ], function(err, rows) {","        if (err) callback(err);","        else {","            if (rows) {","                var seriesFns = [];","                rows.forEach(function(row) {","                    seriesFns.push(function(c) {","                        self.findById(db, { paymentId: row.payment_id }, function(err, paymentObj) {","                            c(err, paymentObj);","                        });","                    });","                });","                async.series(seriesFns,","                    function(err, paymentList) {","                        if (err) callback(err, []);","                        else callback(null, paymentList);","                    }","                );","            } else {","                callback(null, []);","            }","        }","    });"]},{"action":"insertText","range":{"start":{"row":139,"column":0},"end":{"row":139,"column":2}},"text":"};"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":111,"column":0},"end":{"row":113,"column":0}},"nl":"\n","lines":["",""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":112,"column":0},"end":{"row":112,"column":7}},"text":"Payment"},{"action":"insertText","range":{"start":{"row":112,"column":0},"end":{"row":112,"column":1}},"text":"P"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":112,"column":1},"end":{"row":112,"column":2}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":112,"column":2},"end":{"row":112,"column":3}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":112,"column":3},"end":{"row":112,"column":4}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":112,"column":4},"end":{"row":112,"column":5}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":112,"column":5},"end":{"row":112,"column":6}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":112,"column":6},"end":{"row":112,"column":7}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":114,"column":19},"end":{"row":114,"column":29}},"text":"payment_id"},{"action":"insertText","range":{"start":{"row":114,"column":19},"end":{"row":114,"column":20}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":20},"end":{"row":114,"column":21}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":21},"end":{"row":114,"column":22}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":22},"end":{"row":114,"column":23}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":23},"end":{"row":114,"column":24}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":24},"end":{"row":114,"column":25}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":114,"column":24},"end":{"row":114,"column":25}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":114,"column":23},"end":{"row":114,"column":24}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":114,"column":22},"end":{"row":114,"column":23}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":22},"end":{"row":114,"column":23}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":23},"end":{"row":114,"column":24}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":24},"end":{"row":114,"column":25}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":25},"end":{"row":114,"column":26}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":26},"end":{"row":114,"column":27}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":27},"end":{"row":114,"column":28}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":28},"end":{"row":114,"column":29}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":114,"column":46},"end":{"row":114,"column":50}},"text":"ment"},{"action":"insertText","range":{"start":{"row":114,"column":46},"end":{"row":114,"column":47}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":47},"end":{"row":114,"column":48}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":48},"end":{"row":114,"column":49}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":114,"column":49},"end":{"row":114,"column":50}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":121,"column":44},"end":{"row":121,"column":53}},"text":"paymentId"},{"action":"insertText","range":{"start":{"row":121,"column":44},"end":{"row":121,"column":45}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":45},"end":{"row":121,"column":46}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":46},"end":{"row":121,"column":47}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":47},"end":{"row":121,"column":48}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":48},"end":{"row":121,"column":49}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":49},"end":{"row":121,"column":50}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":50},"end":{"row":121,"column":51}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":51},"end":{"row":121,"column":52}},"text":"I"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":52},"end":{"row":121,"column":53}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":121,"column":59},"end":{"row":121,"column":69}},"text":"payment_id"},{"action":"insertText","range":{"start":{"row":121,"column":59},"end":{"row":121,"column":60}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":60},"end":{"row":121,"column":61}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":61},"end":{"row":121,"column":62}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":62},"end":{"row":121,"column":63}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":63},"end":{"row":121,"column":64}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":64},"end":{"row":121,"column":65}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":65},"end":{"row":121,"column":66}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":66},"end":{"row":121,"column":67}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":67},"end":{"row":121,"column":68}},"text":"I"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":68},"end":{"row":121,"column":69}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":121,"column":87},"end":{"row":121,"column":97}},"text":"paymentObj"},{"action":"insertText","range":{"start":{"row":121,"column":87},"end":{"row":121,"column":88}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":88},"end":{"row":121,"column":89}},"text":"a"},{"action":"insertText","range":{"start":{"row":121,"column":89},"end":{"row":121,"column":90}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":90},"end":{"row":121,"column":91}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":91},"end":{"row":121,"column":92}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":92},"end":{"row":121,"column":93}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":93},"end":{"row":121,"column":94}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":94},"end":{"row":121,"column":95}},"text":"O"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":95},"end":{"row":121,"column":96}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":121,"column":96},"end":{"row":121,"column":97}},"text":"j"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":122,"column":35},"end":{"row":122,"column":45}},"text":"paymentObj"},{"action":"insertText","range":{"start":{"row":122,"column":35},"end":{"row":122,"column":45}},"text":"payTypeObj"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":127,"column":34},"end":{"row":127,"column":45}},"text":"paymentList"},{"action":"insertText","range":{"start":{"row":127,"column":34},"end":{"row":127,"column":35}},"text":"p"},{"action":"insertText","range":{"start":{"row":127,"column":35},"end":{"row":127,"column":36}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":36},"end":{"row":127,"column":37}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":37},"end":{"row":127,"column":38}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":38},"end":{"row":127,"column":39}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":39},"end":{"row":127,"column":40}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":40},"end":{"row":127,"column":41}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":41},"end":{"row":127,"column":42}},"text":"L"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":42},"end":{"row":127,"column":43}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":43},"end":{"row":127,"column":44}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":127,"column":44},"end":{"row":127,"column":45}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":129,"column":44},"end":{"row":129,"column":55}},"text":"paymentList"},{"action":"insertText","range":{"start":{"row":129,"column":44},"end":{"row":129,"column":55}},"text":"payTypeList"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":0},"end":{"row":2,"column":27}},"text":"var util = require(\"util\");"},{"action":"removeText","range":{"start":{"row":1,"column":31},"end":{"row":2,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":1,"column":31},"end":{"row":2,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":2,"column":0},"end":{"row":2,"column":27}},"text":"var util = require(\"util\");"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":27},"end":{"row":3,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":27}},"text":"var util = require(\"util\");"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":20},"end":{"row":3,"column":24}},"text":"util"},{"action":"insertText","range":{"start":{"row":3,"column":20},"end":{"row":3,"column":21}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":21},"end":{"row":3,"column":22}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":22},"end":{"row":3,"column":23}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":23},"end":{"row":3,"column":24}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":24},"end":{"row":3,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":4},"end":{"row":3,"column":8}},"text":"util"},{"action":"insertText","range":{"start":{"row":3,"column":4},"end":{"row":3,"column":5}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":5},"end":{"row":3,"column":6}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":6},"end":{"row":3,"column":7}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":7},"end":{"row":3,"column":8}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":8},"end":{"row":3,"column":9}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":138,"column":0},"end":{"row":138,"column":2}},"text":"};"},{"action":"removeLines","range":{"start":{"row":112,"column":0},"end":{"row":138,"column":0}},"nl":"\n","lines":["","PayType.prototype.findAllByQuotationId = function( db, param, callback ) {","    var self = this;","    db.all(\"SELECT payType_id FROM invoice_paytype WHERE invoice_id = ?\", [ param.quotationId ], function(err, rows) {","        if (err) callback(err);","        else {","            if (rows) {","                var seriesFns = [];","                rows.forEach(function(row) {","                    seriesFns.push(function(c) {","                        self.findById(db, { payTypeId: row.payType_Id }, function(err, payTypeObj) {","                            c(err, payTypeObj);","                        });","                    });","                });","                async.series(seriesFns,","                    function(err, payTypeList) {","                        if (err) callback(err, []);","                        else callback(null, payTypeList);","                    }","                );","            } else {","                callback(null, []);","            }","        }","    });"]},{"action":"removeText","range":{"start":{"row":111,"column":2},"end":{"row":112,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":2},"end":{"row":73,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":0},"end":{"row":74,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":74,"column":0},"end":{"row":100,"column":0}},"lines":["","PayType.prototype.findAllByQuotationId = function( db, param, callback ) {","    var self = this;","    db.all(\"SELECT payType_id FROM invoice_paytype WHERE invoice_id = ?\", [ param.quotationId ], function(err, rows) {","        if (err) callback(err);","        else {","            if (rows) {","                var seriesFns = [];","                rows.forEach(function(row) {","                    seriesFns.push(function(c) {","                        self.findById(db, { payTypeId: row.payType_Id }, function(err, payTypeObj) {","                            c(err, payTypeObj);","                        });","                    });","                });","                async.series(seriesFns,","                    function(err, payTypeList) {","                        if (err) callback(err, []);","                        else callback(null, payTypeList);","                    }","                );","            } else {","                callback(null, []);","            }","        }","    });"]},{"action":"insertText","range":{"start":{"row":100,"column":0},"end":{"row":100,"column":2}},"text":"};"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":73,"column":0},"end":{"row":74,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":83,"column":67},"end":{"row":83,"column":68}},"text":"I"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":83,"column":67},"end":{"row":83,"column":68}},"text":"i"}]}]]},"ace":{"folds":[],"scrolltop":1171,"scrollleft":0,"selection":{"start":{"row":85,"column":27},"end":{"row":85,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":201,"mode":"ace/mode/javascript"}},"timestamp":1412342117861,"hash":"d2818d211c2fda644ecb2c4e3b6d0b1e1860452e"}